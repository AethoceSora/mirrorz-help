---
title: Arch Linux 软件仓库镜像使用帮助
cname: 'archlinux'
disable_https_select: true
---

Pacman 以 `mirrorlist` 中 Server 的顺序作为优先级，因此添加镜像需要在文件的最顶端添加

有关 Arch Linux 使用镜像的详细说明请见 [官方文档](https://wiki.archlinux.org/title/mirrors)

编辑 `/etc/pacman.d/mirrorlist`，在文件的最顶端添加：

<CodeBlock>

```ini
Server = https://{{mirror}}/$repo/os/$arch
```

</CodeBlock>

更新软件包缓存：

<CodeBlock>
```shell
{{sudo}}pacman -Syy
```
</CodeBlock>

如果从一个**损坏的**镜像切换到**正常的**镜像，以上命令可能无法避免问题，此时可以执行以下命令

<CodeBlock>
```shell
{{sudo}}pacman -Syyu
{{sudo}}pacman -Syyuu # 如果仍不能解决问题
```
</CodeBlock>

## Arch Linux Rollback Machine 使用帮助（仅 TUNA 提供）

因为 Arch Linux 的软件仓库和 iso 列表是不维护旧版本的，在少数情况下可能会需要安装旧版本的软件或系统，因此 TUNA 维护了一个 [Arch Linux Rollback Machine](https://arch-archive.tuna.tsinghua.edu.cn/) 来满足这种情况。

Arch Linux Rollback Machine 的使用方法请参照 [wiki](https://wiki.archlinux.org/title/Arch_Linux_Archive)。

需要注意的是，TUNA 的 Rollback Machine 的目录结构与 wiki 中的目录结构并不相同，配置时请自行替代。
